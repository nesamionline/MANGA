<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MangaRead</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        body {
            background-color: #1a1a1a;
            color: white;
            transition: background-color 0.3s, color 0.3s;
        }
        body.light {
            background-color: #ffffff;
            color: black;
        }
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background-color: #2a2a2a;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 100;
        }
        .nav-tabs {
            display: flex;
            gap: 2rem;
        }
        .tab-btn {
            color: white;
            background: none;
            border: none;
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: 0.3s;
        }
        .tab-btn.active {
            border-bottom: 2px solid #ff4757;
        }
        .theme-switcher {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }
        .theme-icon {
            font-size: 1.5rem;
        }
        .auth-icon {
            font-size: 1.5rem;
            cursor: pointer;
        }
        .user-nickname {
            color: white;
            cursor: pointer;
            transition: color 0.3s;
        }
        .user-nickname:hover {
            color: #ff4757;
        }
        main {
            margin-top: 4rem;
            padding: 2rem;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .carousel-section {
            margin-bottom: 3rem;
        }
        .carousel-title {
            margin-bottom: 1rem;
            color: #ff4757;
        }
        .carousel {
            display: flex;
            overflow-x: auto;
            scroll-behavior: smooth;
            gap: 1rem;
            padding-bottom: 1rem;
        }
        .carousel::-webkit-scrollbar {
            height: 8px;
        }
        .carousel::-webkit-scrollbar-thumb {
            background: #ff4757;
            border-radius: 4px;
        }
        .carousel::-webkit-scrollbar-track {
            background: #333;
        }
        .carousel-item {
            min-width: 200px;
            width: 200px;
            transition: 0.3s;
        }
        .carousel-item:hover {
            transform: scale(1.05);
        }
        .carousel-img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 5px;
        }
        .carousel-info {
            margin-top: 0.5rem;
            font-size: 0.9rem;
        }
        .catalog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
        }
        .catalog-item {
            background: #333;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .catalog-item:hover {
            transform: scale(1.05);
        }
        .catalog-item img {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }
        .catalog-info {
            padding: 1rem;
        }
        .rating-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .rating-item {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .rating-img {
            width: 100px;
            height: 150px;
            object-fit: cover;
            border-radius: 5px;
        }
        .profile-section {
            text-align: center;
        }
        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin-bottom: 1rem;
        }
        .profile-info {
            margin-bottom: 2rem;
        }
        .profile-info p {
            margin: 0.5rem 0;
        }
        .manga-details {
            text-align: center;
        }
        .manga-img {
            width: 100%;
            max-width: 400px;
            border-radius: 10px;
            margin-bottom: 1rem;
        }
        .manga-chapters {
            display: flex;
            overflow-x: auto;
            gap: 1rem;
            margin-top: 1rem;
        }
        .manga-chapters::-webkit-scrollbar {
            height: 8px;
        }
        .manga-chapters::-webkit-scrollbar-thumb {
            background: #ff4757;
            border-radius: 4px;
        }
        .manga-chapters::-webkit-scrollbar-track {
            background: #333;
        }
        .chapter-item {
            padding: 0.5rem 1rem;
            background: #ff4757;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }
        .notification {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            background: #2a2a2a;
            color: white;
            padding: 1rem;
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 1rem;
            animation: fadeOut 5s forwards;
        }
        .notification.success {
            background: #4caf50;
        }
        .notification.error {
            background: #f44336;
        }
        .notification-close {
            cursor: pointer;
        }
        @keyframes fadeOut {
            0% { opacity: 1; }
            90% { opacity: 1; }
            100% { opacity: 0; }
        }
        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω */
        .auth-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #2a2a2a;
            padding: 2rem;
            border-radius: 10px;
            z-index: 1000;
        }
        .auth-modal.active {
            display: block;
        }
        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .auth-input {
            padding: 0.5rem;
            border-radius: 5px;
            border: 1px solid #444;
            background: #333;
            color: white;
        }
        .auth-button {
            padding: 0.5rem;
            border-radius: 5px;
            border: none;
            background: #ff4757;
            color: white;
            cursor: pointer;
        }
        .auth-links {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
        }
        .auth-link {
            color: #ff4757;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-tabs">
            <button class="tab-btn active" data-page="main">–ì–ª–∞–≤–Ω–æ–µ</button>
            <button class="tab-btn" data-page="ratings">–†–µ–π—Ç–∏–Ω–≥–∏</button>
            <button class="tab-btn" data-page="catalog">–ö–∞—Ç–∞–ª–æ–≥</button>
            <button class="tab-btn" data-page="profile" id="profileTab" style="display: none;">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</button>
        </div>
        <div style="display: flex; align-items: center; gap: 1rem;">
            <div class="theme-switcher" onclick="App.toggleTheme()">
                <span class="theme-icon">üåô</span>
            </div>
            <span class="auth-icon" id="authIcon" onclick="App.showAuthModal('login')">üîë</span>
            <span class="user-nickname" id="userNickname"></span>
        </div>
    </nav>
    <main id="app"></main>
    <template id="main-page">
        <div class="tab-content active">
            <div class="carousel-section reading-now">
                <h2 class="carousel-title">–°–µ–π—á–∞—Å —á–∏—Ç–∞—é—Ç</h2>
                <div class="carousel" id="reading-now-carousel"></div>
            </div>
            <div class="carousel-section">
                <h2 class="carousel-title">–ú–∞–Ω—Ö–≤–∞</h2>
                <div class="carousel" id="manhwa-carousel"></div>
            </div>
            <div class="carousel-section">
                <h2 class="carousel-title">–ú–∞–Ω–≥–∞</h2>
                <div class="carousel" id="manga-carousel"></div>
            </div>
            <div class="carousel-section">
                <h2 class="carousel-title">–ú–∞–Ω—å—Ö—É–∞</h2>
                <div class="carousel" id="manhua-carousel"></div>
            </div>
        </div>
    </template>
    <template id="ratings-page">
        <div class="tab-content">
            <h2>–¢–æ–ø 10 –∑–∞ –Ω–µ–¥–µ–ª—é</h2>
            <div class="rating-list" id="weekly-top"></div>
        </div>
    </template>
    <template id="catalog-page">
        <div class="tab-content">
            <input type="text" class="search-box" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." id="search-input">
            <div class="catalog-grid" id="catalog-grid"></div>
        </div>
    </template>
    <template id="profile-page">
        <div class="tab-content">
            <div class="profile-section">
                <img src="https://picsum.photos/100" alt="–ê–≤–∞—Ç–∞—Ä" class="profile-avatar">
                <div class="profile-info">
                    <h2 id="profileNickname">–ù–∏–∫–Ω–µ–π–º#1234</h2>
                    <p>Email: <span id="profileEmail"></span></p>
                    <p>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: <span id="profileDate"></span></p>
                    <p>–ü—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ –≥–ª–∞–≤—ã: <span id="profileChapters"></span></p>
                    <p>–ü–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è —Ç–∞–π—Ç–ª—ã: <span id="profileLikes"></span></p>
                    <button onclick="App.logout()">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
                </div>
            </div>
        </div>
    </template>
    <template id="manga-details-page">
        <div class="manga-details">
            <img id="mangaImage" class="manga-img">
            <h2 id="mangaTitle"></h2>
            <div id="mangaDescription"></div>
            <div class="manga-chapters" id="mangaChapters"></div>
        </div>
    </template>
    <template id="admin-page">
        <div class="tab-content">
            <h2>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
            <button onclick="App.logout()">–í—ã–π—Ç–∏</button>
        </div>
    </template>
    <div id="loginModal" class="auth-modal">
        <span class="close-btn" onclick="App.closeAllModals()">√ó</span>
        <form class="auth-form" id="loginForm">
            <h2>–í—Ö–æ–¥</h2>
            <input type="email" class="auth-input" placeholder="Email" required>
            <input type="password" class="auth-input" placeholder="–ü–∞—Ä–æ–ª—å" required>
            <button type="submit" class="auth-button">–í–æ–π—Ç–∏</button>
            <div class="auth-links">
                <span class="auth-link" onclick="App.showAuthModal('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span> | 
                <span class="auth-link" onclick="App.showAuthModal('forgot')">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</span>
            </div>
        </form>
    </div>
    <div id="registerModal" class="auth-modal">
        <span class="close-btn" onclick="App.closeAllModals()">√ó</span>
        <form class="auth-form" id="registerForm">
            <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            <input type="text" id="nicknameInput" class="auth-input" placeholder="–ù–∏–∫–Ω–µ–π–º" required>
            <input type="email" class="auth-input" placeholder="Email" required>
            <input type="password" class="auth-input" placeholder="–ü–∞—Ä–æ–ª—å" required>
            <input type="password" class="auth-input" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
            <button type="submit" class="auth-button">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            <div class="auth-links">
                <span class="auth-link" onclick="App.showAuthModal('login')">–í—Ö–æ–¥</span> | 
                <span class="auth-link" onclick="App.showAuthModal('forgot')">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</span>
            </div>
        </form>
    </div>
    <div id="forgotModal" class="auth-modal">
        <span class="close-btn" onclick="App.closeAllModals()">√ó</span>
        <form class="auth-form" id="forgotForm">
            <h2>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</h2>
            <input type="email" class="auth-input" placeholder="Email" required>
            <button type="submit" class="auth-button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            <div class="auth-links">
                <span class="auth-link" onclick="App.showAuthModal('login')">–í—Ö–æ–¥</span> | 
                <span class="auth-link" onclick="App.showAuthModal('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span>
            </div>
        </form>
    </div>
    <script>
class App {
    static async init() {
    await this.loadData();
    this.setupRouter();
    this.setupEventListeners();
    this.applySavedTheme(); // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é —Ç–µ–º—É
    this.checkAuth();
}
static async loadData() {
    try {
        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö (mock –∏–ª–∏ API)
        this.data = {
            'reading-now-carousel': [
                { image: 'https://picsum.photos/200/300', title: '–ß–∏—Ç–∞—é—Ç —Å–µ–π—á–∞—Å 1', id: 1 },
                { image: 'https://picsum.photos/200/300', title: '–ß–∏—Ç–∞—é—Ç —Å–µ–π—á–∞—Å 2', id: 2 }
            ],
            'manhwa-carousel': [
                { image: 'https://picsum.photos/200/300', title: '–ú–∞–Ω—Ö–≤–∞ 1', id: 3 },
                { image: 'https://picsum.photos/200/300', title: '–ú–∞–Ω—Ö–≤–∞ 2', id: 4 }
            ],
            'manga-carousel': [
                { image: 'https://picsum.photos/200/300', title: '–ú–∞–Ω–≥–∞ 1', id: 5 },
                { image: 'https://picsum.photos/200/300', title: '–ú–∞–Ω–≥–∞ 2', id: 6 }
            ],
            'manhua-carousel': [
                { image: 'https://picsum.photos/200/300', title: '–ú–∞–Ω—å—Ö—É–∞ 1', id: 7 },
                { image: 'https://picsum.photos/200/300', title: '–ú–∞–Ω—å—Ö—É–∞ 2', id: 8 }
            ],
            'weekly-top': [
                { image: 'https://picsum.photos/100/150', title: '–¢–æ–ø 1', id: 9 },
                { image: 'https://picsum.photos/100/150', title: '–¢–æ–ø 2', id: 10 }
            ],
            'catalog': [
                { image: 'https://picsum.photos/200/300', title: '–ú–∞–Ω–≥–∞ 1', id: 11 },
                { image: 'https://picsum.photos/200/300', title: '–ú–∞–Ω–≥–∞ 2', id: 12 }
            ],
        };
        console.log('–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', this.data); // –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:', error);
    }
}
    static pages = {
        main: '#main-page',
        ratings: '#ratings-page',
        catalog: '#catalog-page',
        profile: '#profile-page',
        manga: '#manga-details-page',
        admin: '#admin-page'
    };
    static setupRouter() {
        window.addEventListener('popstate', () => this.loadPage());
        window.addEventListener('hashchange', () => this.loadPage());
        this.loadPage(); // –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ loadPage –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
    }
    static async loadPage() {
        const pageName = window.location.hash.substring(1) || 'main';
        await this.renderPage(pageName); // –û–∂–∏–¥–∞–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        this.updateNav(pageName);
    }
    static async renderPage(pageName) {
    const template = document.querySelector(this.pages[pageName]);
    if (!template) return this.renderError();

    const app = document.getElementById('app');
    app.innerHTML = '';

    if (!this.data) {
        app.innerHTML = '<p>–û—à–∏–±–∫–∞: –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.</p>';
        return;
    }

    app.appendChild(template.content.cloneNode(true));

    switch (pageName) {
        case 'main':
            await this.initCarousels();
            break;
        case 'catalog':
            this.initCatalog();
            break;
        case 'ratings':
            this.initRatings();
            break;
        case 'profile':
            this.initProfile();
            break;
        case 'manga':
            this.initMangaDetails();
            break;
        case 'admin':
            this.initAdminPanel();
            break;
    }
}
    static updateNav(pageName) {
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.page === pageName);
        });
    }
    static async initCarousels() {
        const carousels = document.querySelectorAll('.carousel');
        carousels.forEach(carousel => {
            const carouselId = carousel.id;
            const data = this.data?.[carouselId]; // –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Ü–µ–ø–æ—á–∫—É
            if (data) {
                data.forEach(item => {
                    const carouselItem = document.createElement('div');
                    carouselItem.className = 'carousel-item';
                    carouselItem.innerHTML = `
                        <img src="${item.image}" class="carousel-img">
                        <div class="carousel-info">${item.title}</div>
                    `;
                    carouselItem.addEventListener('click', () => {
                        this.showMangaDetails(item.id);
                    });
                    carousel.appendChild(carouselItem);
                });
            } else {
                console.error(`–î–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞—Ä—É—Å–µ–ª–∏ "${carouselId}" –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.`);
            }
        });
    }
    static initCatalog() {
    const catalogGrid = document.getElementById('catalog-grid');
    const searchInput = document.getElementById('search-input');
    const data = this.data['catalog'];
    if (data) {
        data.forEach(item => {
            const catalogItem = document.createElement('div');
            catalogItem.className = 'catalog-item';
            catalogItem.innerHTML = `
                <img src="${item.image}">
                <div class="catalog-info">${item.title}</div>
            `;
            catalogItem.addEventListener('click', () => {
                this.showMangaDetails(item.id);
            });
            catalogGrid.appendChild(catalogItem);
        });

        searchInput.addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase();
            const filteredItems = data.filter(item => item.title.toLowerCase().includes(query));
            catalogGrid.innerHTML = '';
            filteredItems.forEach(item => {
                const catalogItem = document.createElement('div');
                catalogItem.className = 'catalog-item';
                catalogItem.innerHTML = `
                    <img src="${item.image}">
                    <div class="catalog-info">${item.title}</div>
                `;
                catalogItem.addEventListener('click', () => {
                    this.showMangaDetails(item.id);
                });
                catalogGrid.appendChild(catalogItem);
            });
        });
    }
}

static initRatings() {
    const weeklyTop = document.getElementById('weekly-top');
    const weeklyData = this.data['weekly-top'];
    if (weeklyData && weeklyTop) {
        weeklyData.forEach(item => {
            const ratingItem = document.createElement('div');
            ratingItem.className = 'rating-item';
            ratingItem.innerHTML = `
                <img src="${item.image}" class="rating-img">
                <div>${item.title}</div>
            `;
            ratingItem.addEventListener('click', () => {
                this.showMangaDetails(item.id);
            });
            weeklyTop.appendChild(ratingItem);
        });
    }
}
    static initProfile() {
    const user = JSON.parse(localStorage.getItem('user'));
    if (user) {
        document.getElementById('profileNickname').textContent = user.nickname;
        document.getElementById('profileEmail').textContent = user.email;
        document.getElementById('profileDate').textContent = user.registrationDate;
        document.getElementById('profileChapters').textContent = user.chaptersRead;
        document.getElementById('profileLikes').textContent = user.likes;
    }
}
    static initAdminPanel() {
        const user = JSON.parse(localStorage.getItem('user'));
        if (user && user.email === 'akluc6373@gmail.com') {
            const adminPanel = document.createElement('div');
            adminPanel.innerHTML = `
                <h2>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
                <button onclick="App.logout()">–í—ã–π—Ç–∏</button>
            `;
            document.getElementById('app').appendChild(adminPanel);
        } else {
            window.location.hash = 'main';
        }
    }
    static showMangaDetails(mangaId) {
        const manga = this.data['catalog'].find(item => item.id === mangaId);
        if (manga) {
            localStorage.setItem('manga', JSON.stringify(manga));
            window.location.hash = 'manga';
        }
    }
    static initMangaDetails() {
        const manga = JSON.parse(localStorage.getItem('manga'));
        if (manga) {
            document.getElementById('mangaImage').src = manga.image;
            document.getElementById('mangaTitle').textContent = manga.title;
            document.getElementById('mangaDescription').textContent = '–û–ø–∏—Å–∞–Ω–∏–µ –º–∞–Ω–≥–∏...';
            const chapters = document.getElementById('mangaChapters');
            for (let i = 1; i <= 10; i++) {
                const chapterItem = document.createElement('div');
                chapterItem.className = 'chapter-item';
                chapterItem.textContent = `–ì–ª–∞–≤–∞ ${i}`;
                chapterItem.addEventListener('click', () => {
                    alert(`–í—ã –æ—Ç–∫—Ä—ã–ª–∏ –≥–ª–∞–≤—É ${i}`);
                });
                chapters.appendChild(chapterItem);
            }
        }
    }
    static toggleTheme() {
    document.body.classList.toggle('light');
    const theme = document.body.classList.contains('light') ? 'light' : 'dark';
    localStorage.setItem('theme', theme);
    document.querySelector('.theme-icon').textContent = theme === 'light' ? '‚òÄÔ∏è' : 'üåô';
}

static applySavedTheme() {
    const theme = localStorage.getItem('theme') || 'dark';
    document.body.classList.add(theme);
    document.querySelector('.theme-icon').textContent = theme === 'light' ? '‚òÄÔ∏è' : 'üåô';
}
static checkAuth() {
    const user = JSON.parse(localStorage.getItem('user')) || null;
    if (user) {
        document.getElementById('profileTab').style.display = 'block';
        document.getElementById('authIcon').style.display = 'none';
        document.getElementById('userNickname').textContent = user.nickname;

        if (user.email === 'akluc6373@gmail.com') {
            const adminBtn = document.createElement('button');
            adminBtn.className = 'tab-btn';
            adminBtn.dataset.page = 'admin';
            adminBtn.textContent = '–ê–¥–º–∏–Ω';
            adminBtn.addEventListener('click', () => {
                window.location.hash = 'admin';
            });
            document.querySelector('.nav-tabs').appendChild(adminBtn);
        }
    } else {
        document.getElementById('profileTab').style.display = 'none';
        document.getElementById('authIcon').style.display = 'block';
        document.getElementById('userNickname').textContent = '';
    }
}
    static handleLogin(event) {
        event.preventDefault();
        const form = document.getElementById('loginForm');
        const email = form.querySelector('input[type="email"]').value;
        const password = form.querySelector('input[type="password"]').value;

        if (email === 'akluc6373@gmail.com' && password === '123') {
            const adminUser = {
                id: 1,
                nickname: 'admin',
                email: 'akluc6373@gmail.com',
                password: '123',
                registrationDate: '01.01.2023',
                chaptersRead: 0,
                likes: 0
            };
            localStorage.setItem('user', JSON.stringify(adminUser));
            this.closeAllModals();
            this.showNotification('–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!', 'success');
            form.reset();
            this.checkAuth();
            return;
        }

        const storedUser = localStorage.getItem('user');
        if (storedUser) {
            const user = JSON.parse(storedUser);
            if (user.email === email && user.password === password) {
                this.closeAllModals();
                this.showNotification('–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!', 'success');
                form.reset();
                this.checkAuth();
                return;
            }
        }
        this.showNotification('–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å.', 'error');
        form.reset();
    }
    static handleRegister(event) {
        event.preventDefault();
        const form = document.getElementById('registerForm');
        const nickname = document.getElementById('nicknameInput').value;
        const email = form.querySelector('input[type="email"]').value;
        const password = form.querySelector('input[type="password"]:nth-child(3)').value;
        const confirmPassword = form.querySelector('input[type="password"]:nth-child(4)').value;
        if (password !== confirmPassword) {
            this.showNotification('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç.', 'error');
            return;
        }
        const user = {
            id: Date.now(),
            nickname,
            email,
            password,
            registrationDate: new Date().toLocaleDateString(),
            chaptersRead: 0,
            likes: 0
        };
        localStorage.setItem('user', JSON.stringify(user));
        this.checkAuth();
        this.closeAllModals();
        this.showNotification('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!', 'success');
        form.reset();
    }
    static handleForgotPassword(event) {
        event.preventDefault();
        const email = document.getElementById('forgotForm').querySelector('input[type="email"]').value;
        this.closeAllModals();
        this.showNotification('–°—Å—ã–ª–∫–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –≤–∞—à email.', 'success');
    }
    static logout() {
        localStorage.removeItem('user');
        this.checkAuth();
        window.location.hash = 'main';
    }
    static showNotification(message, type = 'success') {
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        notification.textContent = message;
        const closeButton = document.createElement('span');
        closeButton.className = 'notification-close';
        closeButton.textContent = '√ó';
        closeButton.onclick = () => notification.remove();
        notification.appendChild(closeButton);
        document.body.appendChild(notification);
        setTimeout(() => notification.remove(), 5000);
    }
    static showAuthModal(type) {
        this.closeAllModals();
        const modal = document.getElementById(`${type}Modal`);
        if (modal) {
            modal.classList.add('active');
        }
    }
    static closeAllModals() {
        document.querySelectorAll('.auth-modal').forEach(modal => {
            modal.classList.remove('active');
        });
    }
    static setupEventListeners() {
        const themeSwitcher = document.querySelector('.theme-switcher');
        const authIcon = document.getElementById('authIcon');
        const profileTab = document.getElementById('profileTab');
        themeSwitcher.addEventListener('click', () => this.toggleTheme());
        authIcon.addEventListener('click', () => this.showAuthModal('login'));
        profileTab.addEventListener('click', () => {
            window.location.hash = 'profile';
            this.loadPage();
        });
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const page = btn.dataset.page;
                window.location.hash = page;
                this.loadPage();
            });
        });
        document.querySelector('#loginForm').addEventListener('submit', (event) => this.handleLogin(event));
        document.querySelector('#registerForm').addEventListener('submit', (event) => this.handleRegister(event));
        document.querySelector('#forgotForm').addEventListener('submit', (event) => this.handleForgotPassword(event));
        document.querySelectorAll('.auth-modal .close-btn').forEach(closeButton => {
            closeButton.addEventListener('click', () => this.closeAllModals());
        });
        document.querySelectorAll('.auth-links span').forEach(link => {
            link.addEventListener('click', () => {
                const targetModal = link.textContent.toLowerCase();
                this.showAuthModal(targetModal);
            });
        });
    }
}
document.addEventListener('DOMContentLoaded', () => {
    App.init();
});
    </script>
</body>
</html>
